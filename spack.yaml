spack:
  view: false
  specs:
  - matrix:
    - - autoconf
      - automake
      - bison
      - cmake
      - fftw +mpi +openmp ^mpich
      - fftw +mpi +openmp ^openmpi
      - flex
      - git
      - hdf5 +cxx +fortran +hl +mpi ^mpich
      - hdf5 +cxx +fortran +hl +mpi ^openmpi
      - libtool
      - m4
      - meson
      - mpich
      - ninja
      - openblas threads=openmp +ilp64
      - openmpi
      - perl
      - python@3.11
    - - '%gcc@11'
  concretizer:
    unify: false
  config:
    install_tree:
      root: /opt/spack
      padded_length: 128
  packages:
    all:
      require: target=x86_64_v3
  mirrors:
    github-actions-buildcache:
      url: oci://ghcr.io/spack/github-actions-buildcache
      binary: true
      signed: false
      access_pair:
        id_variable: GITHUB_USER
        secret_variable: GITHUB_TOKEN
